
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Login</title>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <style>
        body {
            background-image: url('../../img/logo.jpg');
        }
    </style>  
</head>
<body class="gradient-custom">    
    <section class="vh-100 gradient-custom">
        <div class="container py-5 h-100">
            <div class="row d-flex justify-content-center align-items-center h-25">
                <div class="col-12 col-md-8 col-lg-6 col-xl-5 h-50">
                    <div class="card bg-dark text-white" style="border-radius: 1rem;">
                        <div class="card-body p-5 text-center">

                            <div class="mb-md-1 mt-md-4 pb-5">

                                <h2 class="fw-bold mb-2 text-uppercase">Pichón Music</h2>
                                <p class="text-white-50 mb-5">Ingresa tu nombre de usuario y contraseña</p>

                                <div class="form-outline form-white mb-4">
                                    <input type="email" id="typeEmailX" class="form-control form-control-lg" placeholder="Usuario" />

                                </div>

                                <div class="form-outline form-white mb-4">
                                    <input type="password" id="typePasswordX" class="form-control form-control-lg" placeholder="Contraseña" />

                                </div>

                                <button class="btn btn-outline-light btn-lg px-5" type="submit" onclick="myFunction()">Entrar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
</body>
</html>
<script>
    function myFunction() {
        var usuario = $("#typeEmailX").val();
        var Contraseña = $("#typePasswordX").val();

        if (usuario == "" && Contraseña == "") {
            alert("Campos vacíos");
        } else {
            if (usuario == "") {
                alert("Usuario vacío");
            } else {
                if (Contraseña == "") {
                    alert("Contraseña vacía");
                } else {
                    $.ajax({
                        url: '@Url.Action("login", "Login")',
                        type: "POST",
                        data: { UserName: usuario, Password: Contraseña },
                        dataType: "json",
                        success:function (d) {
                                //debugger;
                            if (d == "OK") {
                                var url = 'https://localhost:44336/Home/Index';
                                window.location.href = url;
                            } else {
                                alert(d);
                            }
                            },
                        error: function (d) {
                    
                        }
                    });                    
                }
            }
        }

    }
</script>
